数据速率1kbps，1秒钟有1000个数据，每1ms有1个D
循环长度为31的M随机码速率31kbps，1秒钟有31000个数据,1ms有31个D
所以每一个D与M序列的一个循环周期对齐

1       D
31      M

31*4Point  C

D       1k时钟                  f/16/31
载波    124*4k时钟              f
M       31K时钟                 f/16




对输入信号采样频率为124*4，                             设定为默认频率f
那么本地载波生成器的时钟频率为124*4，生成124频率的载波    时钟频率f
本地码生成器，生成31k的m码序列                          时钟频率f/4/4
下变频器                                              时钟频率f
积分器                                                时钟频率f




载波频率124kHz，1ms有124个值

如果加密时，M为1，D^M = ~D，    D=1时，f为-1  D=0时，f=1
           M为0，D^M =  D，    D=1时，f为1   D=0时，f=-1     
解密时， M=1，乘以1 
        M=0，乘以-1
如果同步了，那么相乘后的结果为
    



1个D------31个M-------124个载波值


积分要求在1ms内积分，



IFin使用2bit采样精度，所以最多有4个值
采样数据使用补码表示，
00  ->  代表0  
01  ->  代表+1
10  ->  代表-2  ->  用不到
11  ->  代表-1
IFin是f(x)与cos相乘得到
f(x)可以取1与-1,所以cos(2πfnT+ϕ)应该使用4点余弦，即1 0 -1 0 ，正弦同理


1、一个本地载波产生模块
产生两路正弦信号，由模块内部决定，查表法？？？



2、一个本地码生成器
生成31位的m码
有控制逻辑，控制信号控制m序列相位延迟一个码片周期，即打一拍


周期31的m码产生序列，由5级移位寄存器构成
c0 c2 c5


3、积分模块


4、加法器模块


5、判断阈值模块


6、码产生控制器模块



原则：将0映射为-1,将1映射为1                                            相关后
D=1 M=1 ---> 0  映射为-1       -cos     I       -0.5F-0.5F*cos(nπ)              -0.5F-0.5F*cos(nπ)
                                        Q        -0.5F*sin(nπ)                    -0.5F*sin(nπ)
D=1 M=0 ---> 1  映射为1        cos      I      0.5F+0.5F*cos(nπ)              -0.5F-0.5F*cos(nπ)  
                                        Q        0.5F*sin(nπ)                     -0.5F*sin(nπ)
D=0 M=1 ---> 1  映射为1        cos      I      0.5F+0.5F*cos(nπ)                0.5F+0.5F*cos(nπ)
                                        Q        0.5F*sin(nπ)                    0.5F*sin(nπ)
D=0 M=0 ---> 0  映射为-1       -cos     I       -0.5F-0.5F*cos(nπ)               0.5F+0.5F*cos(nπ)
                                        Q        -0.5F*sin(nπ)                   0.5F*sin(nπ)

上路：F*cos(0.5nπ)cos(0.5nπ)=0.5F+0.5F*cos(nπ)
下路：F*cos(0.5nπ)sin(0.5nπ)=0.5F*sin(nπ)

相关时,若对齐，那么M和N相同,对于




1D

